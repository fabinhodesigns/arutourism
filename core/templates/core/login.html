{% extends 'core/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %}ARUTOURISM - Login{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/pages/login.css' %}">
{% endblock %} 

{% block content %}
    <div id="login-container" class="container d-flex justify-content-center align-items-center custom-container">

        {% if messages %}
            <div id="message-overlay" class="message-overlay">
                <div class="message-box">
                    <ul>
                        {% for message in messages %}
                        <li class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" aria-label="Close">×</button>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        {% endif %}

        <div class="card shadow-lg p-4 animated-card custom-card">
            <div class="d-flex justify-content-center align-items-center">
                <img src="{% static 'images/logo-blk.png' %}" alt="Logo ARUTOURISM" class="img-fluid w-50 mb-4">
            </div>
            <h4 class="text-center mb-4">Administração</h4>
            <p class="text-center mb-4">Entre com suas credenciais para acessar sua conta</p>

            <form id="login-form" method="POST" novalidate class="needs-validation">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="id_identificador" class="form-label">E-mail ou CPF</label>
                    {{ form.identificador|add_class:"form-control"|attr:"autocomplete:username email"|attr:"inputmode:email" }}
                    <div id="err-identificador" class="invalid-feedback" aria-live="assertive"></div>
                </div>
                <div class="mb-3">
                    <label for="id_password" class="form-label">Senha</label>
                    {{ form.password|add_class:"form-control"|attr:"autocomplete:current-password" }}
                    <div id="err-password" class="invalid-feedback" aria-live="assertive"></div>
                </div>
                <button type="submit" class="btn btn-primary w-100">Login</button>
                <div id="login-error" class="mt-3 text-danger text-center" role="alert" aria-live="assertive"></div>
            </form>

            <hr class="my-4">

<div class="text-center">
  <div class="mb-2 fw-semibold">Esqueceu sua senha?</div>
  <div class="d-inline-flex align-items-center gap-2" role="group" aria-label="Opções de recuperação de senha">
    <a href="{% url 'esqueci_senha_email' %}" class="btn btn-outline-primary btn-sm">Recuperar por e-mail</a>
    <span class="text-muted">ou</span>
    <a href="{% url 'esqueci_senha_cpf' %}" class="btn btn-outline-primary btn-sm">Recuperar pelo CPF</a>
  </div>
</div>

<p class="mt-4 text-center">Não tem uma conta? <a href="{% url 'register' %}">Cadastre-se</a></p>
    </div>
{% endblock %}

<script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
<script src="{% static 'js/site/login.js' %}"></script>